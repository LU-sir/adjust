from adjust import Daoxian


info1 = """ 0 -- 1	65.893
 1 -- 2	103.656
 2 -- 3	96.446
 3 -- 4	82.557
 4 -- 5	已知值
 5 -- 6	71.194
 6 -- 0	102.801
 0 -- 7	63.84
 7 -- 8	70.315
 8 -- 3	47.726"""

info2 = """
∠0 1 2	231°50′15.1″
∠1 0 6	134°25′21.9″
∠1 0 7	62°25′37.2″
∠1 2 3	251°31′27.3″
∠2 3 4	204°32′33.3″
∠2 3 8	288°18′12.4″
∠3 4 5	246°45′15.2″
∠4 3 8	83°45′53.7″
∠4 5 6	244°09′57.8″
∠5 6 0	215°35′53.8″
∠6 0 7	288°00′32″
∠0 7 8	192°59′25.3″
∠7 8 3	156°15′13.5″
"""

info3 = '''已知点：4 x=97.478(m), y=155.682(m)
已知点：5 x=184.833(m), y=90.147(m)
测边误差：1/2000
测角误差：12"'''

dx_test = Daoxian(info1, info2, info3)
dx_test.check_info()
dx_test.init_params()
dx_test.init_weight()
dx_test.cal()

'''
[3.071326544877045e+02,2.283013983327644e+02,1.446664727003717e+02,97.478000000000000,1.556820000000000e+02,2.258786128042726e+02,2.482021546925351e+02,1.806911732611011e+02,3.035958218206701e+02]
[307.133, 231.448, 1.47121e-11,  9.22741e-11, 685.317]
[228.301, 300.571, 6.78883e-11,  4.41009e-11, 569.693]
[144.666, 251.756, 3.43738e-12,  5.50081e-12, 471.387]
[ 97.478, 184.833,           0,            0,       0]
[155.682,  90.147,           0,            0,       0]
[225.879, 97.2239, 1.20708e-11,  9.25663e-13,  631.06]
[248.202, 198.457, 4.27524e-12,  1.60783e-12, 782.542]
[180.691, 219.968,  8.7452e-12,  8.07529e-13, 597.903]
[303.596, 165.629, 9.59548e-12, -2.06802e-12, 681.655]
'''

